(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{88:function(a,t,s){"use strict";s.r(t);var e=s(0),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"django"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#django"}},[a._v("#")]),a._v(" Django")]),a._v(" "),s("hr"),a._v(" "),s("h2",{attrs:{id:"mac安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mac安装"}},[a._v("#")]),a._v(" mac安装")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git clone https://github.com/django/django.git\n")])])]),s("p",[a._v("安装\n进入解压后的目录：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd Django-x.x.y\nsudo python setup.py install\n")])])]),s("p",[a._v("安装成功后会输出以下信息：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("……\nProcessing dependencies for Django==x.x.y\nFinished processing dependencies for Django==x.x.y\n")])])]),s("p",[a._v("再进入我们的站点目录，创建 Django 项目：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ django-admin.py startproject testdj\n")])])]),s("p",[a._v("启动服务：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd testdj # 切换到我们创建的项目\n$ python manage.py runserver\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("……\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.\n")])])]),s("h2",{attrs:{id:"创建项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[a._v("#")]),a._v(" 创建项目")]),a._v(" "),s("ul",[s("li",[a._v("Python 3.8.2")]),a._v(" "),s("li",[a._v("Django 3.1")])]),a._v(" "),s("p",[a._v("使用 django-admin 来创建 HelloWorld 项目：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("django-admin startproject python1\n")])])]),s("p",[a._v("创建完成后我们可以查看下项目的目录结构：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ cd python1/\n$ tree\n.\n|-- python1\n|   |-- __init__.py\n|   |-- settings.py\n|   |-- urls.py\n|   `-- wsgi.py\n`-- manage.py\n")])])]),s("p",[a._v("目录说明：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('python1: 项目的容器。\nmanage.py: 一个实用的命令行工具，可让你以各种方式与该 Django 项目进行交互。\nHelloWorld/__init__.py: 一个空文件，告诉 Python 该目录是一个 Python 包。\nHelloWorld/settings.py: 该 Django 项目的设置/配置。\nHelloWorld/urls.py: 该 Django 项目的 URL 声明; 一份由 Django 驱动的网站"目录"。\nHelloWorld/wsgi.py: 一个 WSGI 兼容的 Web 服务器的入口，以便运行你的项目。\n以上信息说明，项目已启动，访问地址为http://127.0.0.1:8000/。\n')])])]),s("p",[a._v("接下来我们进入 python1 目录输入以下命令，启动服务器：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("python3 manage.py runserver 0.0.0.0:8000\n")])])]),s("p",[a._v("0.0.0.0 让其它电脑可连接到开发服务器，8000 为端口号。如果不说明，那么端口号默认为 8000。")]),a._v(" "),s("p",[a._v("在浏览器输入你服务器的 ip（这里我们输入本机 IP 地址： 127.0.0.1:8000） 及端口号，如果正常启动，输出结果如下：")]),a._v(" "),s("blockquote",[s("p",[s("img",{attrs:{src:"https://www.runoob.com/wp-content/uploads/2015/01/E14003EA-4F49-4931-91F4-D3C0C0247EF1.jpg",alt:""}})])]),a._v(" "),s("p",[a._v("https://www.runoob.com/django/django-first-app.html")]),a._v(" "),s("h2",{attrs:{id:"遇到的第一个小问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#遇到的第一个小问题"}},[a._v("#")]),a._v(" 遇到的第一个小问题")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("'DIRS': [BASE_DIR+\"/templates\",],       # 修改为\n这样时报错的：\nTypeError: unsupported operand type(s) for +: 'PosixPath' and 'str'\n")])])]),s("h2",{attrs:{id:"解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决"}},[a._v("#")]),a._v(" 解决")]),a._v(" "),s("p",[a._v("网上的做法是")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("'DIRS': [os.path.join(BASE_DIR, 'templates')], \n")])])]),s("p",[a._v("没什么用\n最终在终端\ncd python1\n...\n查看\n最终pwd")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("/Users/lifevc/Desktop/python1/python1/templates/hello.html\n")])])]),s("p",[a._v("原来是路径里多了个python1\n"),s("code",[a._v("'DIRS': ['HelloWorld/templates'],")]),a._v("这么一改就好了。")]),a._v(" "),s("p",[a._v("...")]),a._v(" "),s("h2",{attrs:{id:"后端django-前端vue-js快速搭建web项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#后端django-前端vue-js快速搭建web项目"}},[a._v("#")]),a._v(" 后端Django + 前端Vue.js快速搭建web项目")]),a._v(" "),s("p",[a._v("本篇使用Vue.js作为前端框架，代替Django本身较为孱弱的模板引擎，Django则作为服务端提供api接口，使得前后端实现完全分离，更适合单页应用的开发构建。")]),a._v(" "),s("h3",{attrs:{id:"一、-环境准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、-环境准备"}},[a._v("#")]),a._v(" 一、 环境准备")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("安装环境：\nDjango系：\nPython 3.6 +\nDjango 1.11.13\nMysql 5.7\nPython的MySQL相关模块等\n推荐python相关的模块（包括Django）都使用python自带的pip安装器安装。\n命令：pip install django即可安装最新版本的django,或者pip install django==1.11.13安装指定版本\nVue.js系：\nNode.js 8.11.2\n")])])]),s("p",[a._v("有关Vue的模块(包括vue)可以使用node自带的npm包管理器安装。推荐使用淘宝的 cnpm  命令行工具代替默认的 npm")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ npm install -g cnpm --registry=https://registry.npm.taobao.org\n")])])]),s("h3",{attrs:{id:"二、-构建django项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、-构建django项目"}},[a._v("#")]),a._v(" 二、 构建Django项目")]),a._v(" "),s("p",[a._v("我们首先使用Django来搭建web后端api框架。")]),a._v(" "),s("p",[a._v("1、 先在终端敲入命令：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("django-admin startproject myproject\n")])])]),s("p",[a._v("目录结构：")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://blog-10039692.file.myqcloud.com/1501639985076_5303_1501639985364.png",alt:""}})]),a._v(" "),s("p",[a._v("2、 进入项目根目录，创建一个app：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("python manage.py startapp myapp\n")])])]),s("p",[a._v("目录结构：")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://blog-10039692.file.myqcloud.com/1501640076711_5626_1501640077083.png",alt:""}}),a._v("\n3、 在myproject下的settings.py配置文件中，把默认的sqllite3数据库换成我们的mysql数据库：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# Database\n# https://docs.djangoproject.com/en/1.11/ref/settings/#databases     \n    DATABASES = {\n        'default': {\n            'ENGINE': 'django.db.backends.mysql',\n            'NAME': 'testcon',\n            'USER': 'root',\n            'PASSWORD': '123456',\n            'HOST': '127.0.0.1',\n        }\n    }\n")])])]),s("p",[a._v("并把app加入到installed_apps列表里：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("    INSTALLED_APPS = [\n        'django.contrib.admin',\n        'django.contrib.auth',\n        'django.contrib.contenttypes',\n        'django.contrib.sessions',\n        'django.contrib.messages',\n        'django.contrib.staticfiles',\n         'myapp',\n    ]\n")])])]),s("p",[a._v("4、 在app目录下的models.py里我们简单写一个model如下")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("    # -*- coding: utf-8 -*-\n    from __future__ import unicode_literals\n     \n    from django.db import models\n     \n    # Create your models here.\n    class Book(models.Model):\n        book_name = models.CharField(max_length=64)\n        add_time = models.DateTimeField(auto_now_add=True)\n     \n        def __unicode__(self):\n            return self.book_name\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);